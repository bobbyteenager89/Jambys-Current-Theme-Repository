<template id="cart-drawer">
  
</template>

<!-- <script src="{{ 'scripts/cart.js' | asset_url }}" defer="defer"></script> -->
<script>
  /*function clickDrawerHandler(e){
    let element = e.target;
    console.log(element)
    if ('toggleCart' in element.dataset) {
      e.preventDefault();
      console.log('hello')
      // toggle cart
      let cartTemplate = document.getElementById('cart-drawer');
      let cart = cartTemplate.cloneNode(true);
      document.body.appendChild(cart);

    }
  }
  
  function initAJAXCart {
    document.addEventListener('click', clickDrawerHandler, false);
  }

  initAJAXCart();*/
</script>

{% comment %}
<style>
/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */
  .cart-drawer-outer{
      display:none
  }
  .cart-drawer-outer.is-active{
      display:flex;
      flex-direction:column;
      justify-content:flex-end
  }
  @media (min-width:640px){
      .cart-drawer-outer.is-active{
          flex-direction:row
      }
  }
  .cart-drawer-outer.is-visible .cart-drawer{
      transition-delay:.2s;
      --transform-translate-x:0;
      --transform-translate-y:0
  }
  .cart-drawer-outer.is-visible .cart-drawer-overlay{
      opacity:.9
  }
  .cart-drawer-outer.is-visible .cart-drawer-close{
      transition-delay:.2s;
      opacity:1
  }
  .cart-drawer-overlay{
      opacity:0;
      transition-property:opacity;
      transition-duration:.2s;
      transition-timing-function:cubic-bezier(.4,0,.2,1);
      background-color:#384b73
  }
  .cart-drawer-close{
      opacity:0;
      transition-property:opacity;
      transition-duration:.4s;
      transition-timing-function:cubic-bezier(.4,0,.2,1)
  }
  .cart-drawer{
      --transform-translate-x:0;
      --transform-translate-y:0;
      --transform-rotate:0;
      --transform-skew-x:0;
      --transform-skew-y:0;
      --transform-scale-x:1;
      --transform-scale-y:1;
      transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));
      --transform-translate-y:100%;
      transition-property:transform;
      transition-timing-function:cubic-bezier(0,0,.2,1);
      transition-duration:.4s
  }
  @media (min-width:640px){
      .cart-drawer{
          --transform-translate-x:100%;
          --transform-translate-y:0
      }
  }
  .cart-drawer .rebuy-widget.widget-type-cart{
      --bg-opacity:1;
      background-color:#36409a;
      background-color:rgba(54,64,154,var(--bg-opacity))
  }
  svg.cart-loader{
      -webkit-animation-duration:1.5s;
      animation-duration:1.5s;
      -webkit-animation-name:pulse;
      animation-name:pulse;
      -webkit-animation-iteration-count:infinite;
      animation-iteration-count:infinite
  }
</style>

<section class='cart-drawer-outer fixed inset-0 w-full z-50' data-component='cartDrawer' data-js-cart-item-count="{{ cart.item_count }}">
  <div class='cart-drawer-overlay absolute inset-0 js-overlay'></div>
   <div class='cart-drawer-close min-h-0 self-end sm:self-start relative z-20'>
    <button class='p-1 js-close absolute top-0 right-0 m-3'>

      <svg class="text-white stroke-current" width="30" height="31" viewBox="0 0 30 31" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M6.25 24.1685L23.75 6.66846M6.25 6.66846L23.75 24.1685" stroke-width="2" stroke-linecap="round"/>
      </svg>

    </button>
  </div>
  <div id='cart-drawer' class='cart-drawer js-drawer
    relative
    min-h-80vh max-h-full sm:h-full
    w-full sm:max-w-lg
    flex flex-col
    bg-blue
    text-white text-lg'>

    <div class="js-zero-state hidden absolute inset-0 z-10 bg-blue flex flex-col items-center justify-center">
      {{section.settings.zero_state_content}}
    </div>

    
    <div class='cart-drawer__scroll-wrapper flex-grow w-  full overflow-auto pt-10 sm:pt-12 px-6 relative
      flex flex-col-reverse justify-between'>
      <div class="-mx-6 js-rebuy-embed-wrapper text-base" style="max-height: 230px;">
        {{section.settings.rebuy_html}}
      </div>
      <div class='cart-drawer__items js-items relative'></div>
    </div>
    <div class='flex-shrink-0 border-t-2 border-white border-opacity-10
      flex flex-col justify-between p-6'>
      <div class="mb-6">
        <div class="flex justify-between">
          <div>Subtotal</div>
          <div class='js-subtotal'></div>
        </div>
        {% if section.settings.show_free_shipping_cta %}
          <div class="text-center mt-4" data-js-free-shipping-threshold="{{section.settings.free_shipping_threshold}}">
            <div class="js-free-shipping-success hidden">{{section.settings.free_shipping_success_text}}</div>
            <div class="js-free-shipping-upsell hidden">{{section.settings.free_shipping_upsell_text}}</div>
            <div class="overflow-hidden
              flex w-full mt-2
              bg-white bg-opacity-25 rounded-full h-3">
              <div class="w-0 js-free-shipping-progress delay-500 duration-500 h-full bg-mint rounded-full"></div>
            </div>
          </div>
        {% endif %}
      </div>
      <div> 
        <form action="/cart" method="post">
          <input class='js-discount' type="hidden" name="discount" value="{{cart.attributes.discountCode}}" />
          <button class="js-checkout-button"></button>
        </form>
      </div>
    </div>

  </div>
</section>
{% endcomment %}